{"version":3,"file":"info.js","sources":["pages/index/info.uvue"],"sourcesContent":["<template>\n  <view class=\"container\">\n    <!-- 顶部粉色区域 -->\n    <view class=\"top-section\">\n      <!-- 未登录状态 - 左侧头像 -->\n      <view v-if=\"!isLoggedIn\" class=\"login-header\">\n        <image class=\"avatar\" src=\"/static/images/avatar.png\"></image>\n        <view class=\"login-text-container\">\n          <text class=\"login-text\">点击登录</text>\n          <text class=\"id-text\">ID:</text>\n        </view>\n      </view>\n\n      <!-- 已登录状态 - 居中头像和信息 -->\n      <view v-else class=\"profile-header\">\n        <view class=\"avatar-container\">\n          <image class=\"avatar\" src=\"/static/images/avatar.png\"></image>\n        </view>\n        <text class=\"username\">{{userInfo.name}}</text>\n        <text class=\"user-id\">ID: {{userInfo.id}}</text>\n      </view>\n    </view>\n\n    <!-- 小Tips区域 -->\n    <view class=\"tips-section\">\n      <text class=\"tips-title\">小Tips</text>\n\n      <!-- 菜单列表 -->\n      <view class=\"menu-card\">\n        <view class=\"menu-item\" @click=\"handleMenuClick('contact')\">\n          <text class=\"menu-text\">联系我们</text>\n          <text class=\"arrow\">›</text>\n        </view>\n\n        <view class=\"divider\"></view>\n\n        <view class=\"menu-item\" @click=\"handleMenuClick('agreement')\">\n          <text class=\"menu-text\">用户协议</text>\n          <text class=\"arrow\">›</text>\n        </view>\n\n        <view class=\"divider\"></view>\n\n        <view class=\"menu-item\" @click=\"handleMenuClick('privacy')\">\n          <text class=\"menu-text\">隐私条款</text>\n          <text class=\"arrow\">›</text>\n        </view>\n\n        <view class=\"divider\"></view>\n\n        <view class=\"version-item\">\n          <text class=\"menu-text\">当前版本</text>\n          <text class=\"version-text\">3.0.20250507-beta</text>\n        </view>\n      </view>\n    </view>\n\n    <!-- 登录/退出按钮 -->\n    <view class=\"login-button-container\">\n      <view class=\"login-button\" @click=\"handleLoginAction\">\n        <text>{{isLoggedIn ? '退出登录' : '登录'}}</text>\n      </view>\n    </view>\n\n    <!-- 底部导航 -->\n    <view class=\"tab-bar\">\n      <view class=\"tab-bar-item\" @click=\"switchPage('index')\">\n        <image class=\"tab-bar-icon\" src=\"/static/images/home.png\"></image>\n        <text class=\"tab-bar-text\">首页</text>\n      </view>\n      <view class=\"tab-bar-item active\">\n        <image class=\"tab-bar-icon\" src=\"/static/images/user-active.png\"></image>\n        <text class=\"tab-bar-text\">我的</text>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script lang=\"uts\">\nexport default {\n  data() {\n    return {\n      isLoggedIn: false,\n      userInfo: {\n        name: '陈朴浩',\n        id: '202405721336'\n      }\n    }\n  },\n  onLoad() {\n    this.checkLoginStatus();\n  },\n  methods: {\n    checkLoginStatus() {\n      const token = uni.getStorageSync('token');\n      this.isLoggedIn = !!token;\n\n      if (this.isLoggedIn) {\n        this.getUserInfo();\n      }\n    },\n\n    getUserInfo() {\n      // API调用将在后续实现\n      // 目前使用data中的静态数据\n    },\n\n    handleLoginAction() {\n      if (this.isLoggedIn) {\n        uni.showModal({\n          title: '提示',\n          content: '确定要退出登录吗？',\n          success: (res) => {\n            if (res.confirm) {\n              uni.removeStorageSync('token');\n              this.isLoggedIn = false;\n              uni.showToast({\n                title: '已退出登录',\n                icon: 'none'\n              });\n            }\n          }\n        });\n      } else {\n        uni.navigateTo({\n          url: './login',\n          fail: (err) => {\n            uni.__f__('error','at pages/index/info.uvue:128','页面跳转失败', err);\n            uni.showToast({\n              title: '页面跳转失败',\n              icon: 'none'\n            });\n          }\n        });\n      }\n    },\n\n    handleMenuClick(type) {\n      switch(type) {\n        case 'contact':\n          uni.showToast({\n            title: '联系我们',\n            icon: 'none'\n          });\n          break;\n        case 'agreement':\n          uni.showToast({\n            title: '用户协议',\n            icon: 'none'\n          });\n          break;\n        case 'privacy':\n          uni.showToast({\n            title: '隐私条款',\n            icon: 'none'\n          });\n          break;\n        default:\n          break;\n      }\n    },\n\n    switchPage(page) {\n      if (page === 'index') {\n        uni.redirectTo({\n          url: './index',\n          fail: (err) => {\n            uni.__f__('error','at pages/index/info.uvue:168','页面跳转失败', err);\n            uni.showToast({\n              title: '页面跳转失败',\n              icon: 'none'\n            });\n          }\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style>\n.container {\n  flex-direction: column;\n  width: 750rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n/* 顶部粉色区域 */\n.top-section {\n  width: 750rpx;\n  height: 400rpx;\n  background-color: #f66b6b;\n  border-radius: 0 0 30rpx 30rpx;\n  position: relative;\n}\n\n/* 未登录状态布局 */\n.login-header {\n  flex-direction: row;\n  align-items: center;\n  padding: 120rpx 40rpx;\n}\n\n.login-header .avatar {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 60rpx;\n  border: 4rpx solid #fff;\n}\n\n.login-text-container {\n  margin-left: 30rpx;\n  flex-direction: column;\n  justify-content: center;\n}\n\n/* 已登录状态布局 */\n.profile-header {\n  align-items: center;\n  justify-content: center;\n  padding-top: 80rpx;\n}\n\n.avatar-container {\n  width: 170rpx;\n  height: 170rpx;\n  border-radius: 85rpx;\n  background-color: #ffffff;\n  align-items: center;\n  justify-content: center;\n  border: 4rpx solid #ffffff;\n  overflow: hidden;\n  margin-bottom: 20rpx;\n}\n\n.profile-header .avatar {\n  width: 160rpx;\n  height: 160rpx;\n  border-radius: 80rpx;\n}\n\n/* 用户信息样式 */\n.username {\n  font-size: 42rpx;\n  color: #ffffff;\n  font-weight: bold;\n  margin-bottom: 8rpx;\n}\n\n.user-id {\n  font-size: 32rpx;\n  color: #ffffff;\n  opacity: 0.9;\n}\n\n/* 登录文本样式 */\n.login-text {\n  font-size: 42rpx;\n  color: #ffffff;\n  font-weight: bold;\n}\n\n.id-text {\n  font-size: 32rpx;\n  color: #ffffff;\n  opacity: 0.9;\n  margin-top: 8rpx;\n}\n\n/* 小Tips区域 */\n.tips-section {\n  width: 710rpx;\n  margin: 30rpx 20rpx;\n}\n\n.tips-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333333;\n  margin-bottom: 20rpx;\n  margin-left: 10rpx;\n}\n\n/* 菜单卡片 */\n.menu-card {\n  background-color: #ffffff;\n  border-radius: 20rpx;\n  padding: 0 30rpx;\n}\n\n/* 菜单项 */\n.menu-item {\n  height: 100rpx;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n/* 版本项 */\n.version-item {\n  height: 100rpx;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.menu-text {\n  font-size: 32rpx;\n  color: #333333;\n}\n\n.arrow {\n  font-size: 40rpx;\n  color: #cccccc;\n  font-weight: 300;\n}\n\n.version-text {\n  font-size: 28rpx;\n  color: #999999;\n}\n\n/* 分割线 */\n.divider {\n  height: 1rpx;\n  background-color: #f0f0f0;\n  width: 100%;\n}\n\n/* 登录/退出按钮 */\n.login-button-container {\n  width: 670rpx;\n  margin: 60rpx 40rpx 120rpx;\n}\n\n.login-button {\n  width: 100%;\n  height: 90rpx;\n  background-color: #f66b6b;\n  border-radius: 45rpx;\n  align-items: center;\n  justify-content: center;\n  color: #ffffff;\n  font-size: 34rpx;\n  font-weight: bold;\n}\n\n/* 底部导航 */\n.tab-bar {\n  width: 750rpx;\n  height: 100rpx;\n  background-color: #ffffff;\n  flex-direction: row;\n  justify-content: space-around;\n  align-items: center;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  border-top: 1rpx solid #f0f0f0;\n}\n\n.tab-bar-item {\n  flex: 1;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n}\n\n.tab-bar-icon {\n  width: 50rpx;\n  height: 50rpx;\n  margin-bottom: 5rpx;\n}\n\n.tab-bar-text {\n  font-size: 24rpx;\n  color: #999999;\n}\n\n.tab-bar-item.active .tab-bar-text {\n  color: #f66b6b;\n  font-weight: bold;\n}\n\n.tab-bar-item.active::after {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 70rpx;\n  height: 4rpx;\n  background-color: #f66b6b;\n  border-radius: 2rpx;\n}\n</style>"],"names":["defineComponent","uni"],"mappings":";;;AA+EA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,UAAU,IAAA,cAAA;AAAA,QACR,MAAM;AAAA,QACN,IAAI;AAAA,OACN;AAAA;EAEH;AAAA,EACD,SAAM;AACJ,SAAK,iBAAgB;AAAA,EACtB;AAAA,EACD,SAAS;AAAA,IACP,mBAAgB;AACd,YAAM,QAAQC,cAAAA,MAAI,eAAe,OAAO;AACxC,WAAK,aAAa,CAAC,CAAC;AAEpB,UAAI,KAAK,YAAY;AACnB,aAAK,YAAW;AAAA,MAClB;AAAA,IACD;AAAA,IAED,cAAW;AAAA,IAGV;AAAA,IAED,oBAAiB;AACf,UAAI,KAAK,YAAY;AACnBA,4BAAI,UAAU,IAAA,cAAA;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,SAAS,CAAC,QAAG;AACX,gBAAI,IAAI,SAAS;AACfA,kCAAI,kBAAkB,OAAO;AAC7B,mBAAK,aAAa;AAClBA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cACP,CAAA;AAAA,YACH;AAAA,UACF;AAAA,QACD,CAAA,CAAA;AAAA,MACD,OAAK;AACLA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM,CAAC,QAAG;AACRA,0BAAG,MAAC,MAAM,SAAQ,gCAA+B,UAAU,GAAG;AAC9DA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACD,CAAA;AAAA,MACH;AAAA,IACD;AAAA,IAED,gBAAgB,OAAI,MAAA;AAClB,cAAO,MAAI;AAAA,QACT,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAA;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAA;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAA;AACD;AAAA,MAGJ;AAAA,IACD;AAAA,IAED,WAAW,OAAI,MAAA;AACb,UAAI,SAAS,SAAS;AACpBA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM,CAAC,QAAG;AACRA,0BAAG,MAAC,MAAM,SAAQ,gCAA+B,UAAU,GAAG;AAC9DA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACD,CAAA;AAAA,MACH;AAAA,IACF;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;"}