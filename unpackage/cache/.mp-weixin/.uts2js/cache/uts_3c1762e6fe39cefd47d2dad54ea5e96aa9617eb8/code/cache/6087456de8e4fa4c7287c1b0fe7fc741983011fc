{"code":"import { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            isLoggedIn: false,\n            userInfo: new UTSJSONObject({\n                name: '陈朴浩',\n                id: '202405721336'\n            })\n        };\n    },\n    onLoad() {\n        this.checkLoginStatus();\n    },\n    methods: {\n        checkLoginStatus() {\n            const token = uni.getStorageSync('token');\n            this.isLoggedIn = !!token;\n            if (this.isLoggedIn) {\n                this.getUserInfo();\n            }\n        },\n        getUserInfo() {\n            // API调用将在后续实现\n            // 目前使用data中的静态数据\n        },\n        handleLoginAction() {\n            if (this.isLoggedIn) {\n                uni.showModal(new UTSJSONObject({\n                    title: '提示',\n                    content: '确定要退出登录吗？',\n                    success: (res) => {\n                        if (res.confirm) {\n                            uni.removeStorageSync('token');\n                            this.isLoggedIn = false;\n                            uni.showToast({\n                                title: '已退出登录',\n                                icon: 'none'\n                            });\n                        }\n                    }\n                }));\n            }\n            else {\n                uni.navigateTo({\n                    url: './login',\n                    fail: (err) => {\n                        uni.__f__('error', 'at pages/index/info.uvue:128', '页面跳转失败', err);\n                        uni.showToast({\n                            title: '页面跳转失败',\n                            icon: 'none'\n                        });\n                    }\n                });\n            }\n        },\n        handleMenuClick(type = null) {\n            switch (type) {\n                case 'contact':\n                    uni.showToast({\n                        title: '联系我们',\n                        icon: 'none'\n                    });\n                    break;\n                case 'agreement':\n                    uni.showToast({\n                        title: '用户协议',\n                        icon: 'none'\n                    });\n                    break;\n                case 'privacy':\n                    uni.showToast({\n                        title: '隐私条款',\n                        icon: 'none'\n                    });\n                    break;\n                default:\n                    break;\n            }\n        },\n        switchPage(page = null) {\n            if (page === 'index') {\n                uni.redirectTo({\n                    url: './index',\n                    fail: (err) => {\n                        uni.__f__('error', 'at pages/index/info.uvue:168', '页面跳转失败', err);\n                        uni.showToast({\n                            title: '页面跳转失败',\n                            icon: 'none'\n                        });\n                    }\n                });\n            }\n        }\n    }\n});\n//# sourceMappingURL=C:/Users/liern/IdeaProjects/Gonggong/pages/index/info.uvue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getStorageSync","uni.showModal","uni.removeStorageSync","uni.showToast","uni.navigateTo","uni.__f__","uni.redirectTo"],"map":"{\"version\":3,\"file\":\"info.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"info.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\";AACA,+BAAe;IACb,IAAI;QACF,OAAO;YACL,UAAU,EAAE,KAAK;YACjB,QAAQ,oBAAE;gBACR,IAAI,EAAE,KAAK;gBACX,EAAE,EAAE,cAAc;aACnB,CAAA;SACF,CAAA;IACH,CAAC;IACD,MAAM;QACJ,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IACD,OAAO,EAAE;QACP,gBAAgB;YACd,MAAM,KAAK,GAAG,GAAG,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC,KAAK,CAAC;YAE1B,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,IAAI,CAAC,WAAW,EAAE,CAAC;aACpB;QACH,CAAC;QAED,WAAW;YACT,cAAc;YACd,iBAAiB;QACnB,CAAC;QAED,iBAAiB;YACf,IAAI,IAAI,CAAC,UAAU,EAAE;gBACnB,GAAG,CAAC,SAAS,mBAAC;oBACZ,KAAK,EAAE,IAAI;oBACX,OAAO,EAAE,WAAW;oBACpB,OAAO,EAAE,CAAC,GAAG;wBACX,IAAI,GAAG,CAAC,OAAO,EAAE;4BACf,GAAG,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC;4BAC/B,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;4BACxB,GAAG,CAAC,SAAS,CAAC;gCACZ,KAAK,EAAE,OAAO;gCACd,IAAI,EAAE,MAAM;6BACb,CAAC,CAAC;yBACJ;oBACH,CAAC;iBACF,EAAC,CAAC;aACJ;iBAAM;gBACL,GAAG,CAAC,UAAU,CAAC;oBACb,GAAG,EAAE,SAAS;oBACd,IAAI,EAAE,CAAC,GAAG;wBACR,GAAG,CAAC,KAAK,CAAC,OAAO,EAAC,8BAA8B,EAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;wBAChE,GAAG,CAAC,SAAS,CAAC;4BACZ,KAAK,EAAE,QAAQ;4BACf,IAAI,EAAE,MAAM;yBACb,CAAC,CAAC;oBACL,CAAC;iBACF,CAAC,CAAC;aACJ;QACH,CAAC;QAED,eAAe,CAAC,IAAI,OAAA;YAClB,QAAO,IAAI,EAAE;gBACX,KAAK,SAAS;oBACZ,GAAG,CAAC,SAAS,CAAC;wBACZ,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,MAAM;qBACb,CAAC,CAAC;oBACH,MAAM;gBACR,KAAK,WAAW;oBACd,GAAG,CAAC,SAAS,CAAC;wBACZ,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,MAAM;qBACb,CAAC,CAAC;oBACH,MAAM;gBACR,KAAK,SAAS;oBACZ,GAAG,CAAC,SAAS,CAAC;wBACZ,KAAK,EAAE,MAAM;wBACb,IAAI,EAAE,MAAM;qBACb,CAAC,CAAC;oBACH,MAAM;gBACR;oBACE,MAAM;aACT;QACH,CAAC;QAED,UAAU,CAAC,IAAI,OAAA;YACb,IAAI,IAAI,KAAK,OAAO,EAAE;gBACpB,GAAG,CAAC,UAAU,CAAC;oBACb,GAAG,EAAE,SAAS;oBACd,IAAI,EAAE,CAAC,GAAG;wBACR,GAAG,CAAC,KAAK,CAAC,OAAO,EAAC,8BAA8B,EAAC,QAAQ,EAAE,GAAG,CAAC,CAAC;wBAChE,GAAG,CAAC,SAAS,CAAC;4BACZ,KAAK,EAAE,QAAQ;4BACf,IAAI,EAAE,MAAM;yBACb,CAAC,CAAC;oBACL,CAAC;iBACF,CAAC,CAAC;aACJ;QACH,CAAC;KACF;CACF,EAAA\"}"}
