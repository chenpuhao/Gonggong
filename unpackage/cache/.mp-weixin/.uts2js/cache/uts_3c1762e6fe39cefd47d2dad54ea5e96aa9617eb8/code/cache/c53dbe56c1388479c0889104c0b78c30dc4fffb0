{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent } from \"vue\";\nimport info from \"@/pages/index/info.uvue\";\nexport default defineComponent({\n    computed: {\n        info() {\n            return info;\n        }\n    },\n    data() {\n        return {\n            currentTab: 'countdown',\n            todayLessons: 0,\n            currentDate: '2025/05/13',\n            currentWeek: '13',\n            currentPage: 'index',\n            onlyExams: true,\n            // 添加左滑相关的变量\n            swipeDistance: 0,\n            isVisible: false,\n            examList: [\n                new UTSJSONObject({\n                    title: '数据结构',\n                    type: '考试',\n                    date: '2025/06/09 19:30-21:30',\n                    weekday: '星期一',\n                    location: '计算中心B307',\n                    daysLeft: 24\n                }),\n                new UTSJSONObject({\n                    title: '离散数学',\n                    type: '考试',\n                    date: '2025/06/12 10:30-12:30',\n                    weekday: '星期四',\n                    location: '尚美楼二阶梯',\n                    daysLeft: 27\n                }),\n                new UTSJSONObject({\n                    title: '计算机组成与体系结构',\n                    type: '考试',\n                    date: '2025/06/16 10:30-12:30',\n                    weekday: '星期一',\n                    location: '北山二阶梯',\n                    daysLeft: 31\n                }),\n                new UTSJSONObject({\n                    title: '大学外语2',\n                    type: '考试',\n                    date: '2025/06/19 14:00-16:00',\n                    weekday: '星期四',\n                    location: '逸夫楼二阶',\n                    daysLeft: 34\n                }),\n                new UTSJSONObject({\n                    title: '国家安全教育',\n                    type: '考试',\n                    date: '2025/06/19 16:30-18:30',\n                    weekday: '星期四',\n                    location: '逸夫楼一阶',\n                    daysLeft: 34\n                })\n            ],\n            examSwipeState: new UTSJSONObject({}),\n            startX: 0,\n            currentIndex: null,\n            isSwiping: false\n        };\n    },\n    onLoad() {\n        this.getCurrentDate();\n        this.getExamData();\n    },\n    methods: {\n        // 获取考试数据\n        getExamData() {\n            return __awaiter(this, void 0, void 0, function* () {\n                try {\n                    // 这里将来会调用实际的API\n                    // const response = await uni.request({ url: 'your-exam-api-endpoint' });\n                    // this.examList = response.data;\n                    // 现在使用预设的模拟数据\n                }\n                catch (error) {\n                    uni.showToast({\n                        title: '获取考试数据失败',\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n        // 重置其他条目\n        resetOthers(e = null) {\n            // 滚动时重置所有滑动状态\n            if (!this.isSwiping && Object.keys(this.examSwipeState).length > 0) {\n                this.examSwipeState = new UTSJSONObject({});\n            }\n        },\n        // 滑动变化事件处理\n        touchStart(e = null, index = null) {\n            this.startX = e.changedTouches[0].clientX;\n            this.currentIndex = index;\n            this.isSwiping = true;\n            // 如果点击了一个新的条目，先重置其他所有条目\n            Object.keys(this.examSwipeState).forEach(key => {\n                if (Number(key) !== index && this.examSwipeState[key] !== 0) {\n                    this.$set(this.examSwipeState, key, 0);\n                }\n            });\n        },\n        // 触摸结束事件\n        touchEnd(e = null, index = null) {\n            const endX = e.changedTouches[0].clientX;\n            const distance = endX - this.startX;\n            // 左滑显示操作按钮，仅显示刚好能展示两个按钮的宽度\n            if (distance < -50) {\n                // 每个按钮宽度为120rpx，共240rpx，转换为px大约为120px\n                this.$set(this.examSwipeState, index, -120);\n            }\n            // 右滑隐藏操作按钮\n            else if (distance > 50 || (distance > -50 && distance < 50 && this.examSwipeState[index] === -120)) {\n                this.$set(this.examSwipeState, index, 0);\n            }\n            this.isSwiping = false;\n        },\n        // 置顶项目\n        pinItem(index = null) {\n            const item = this.examList[index];\n            // 移除当前项\n            this.examList.splice(index, 1);\n            // 添加到顶部\n            this.examList.unshift(item);\n            // 重置滑动状态\n            this.examSwipeState = new UTSJSONObject({});\n            uni.showToast({\n                title: '已置顶',\n                icon: 'none'\n            });\n        },\n        // 删除项目\n        deleteItem(index = null) {\n            const item = this.examList[index];\n            if (item.type === '考试') {\n                uni.showToast({\n                    title: '考试项目不可删除',\n                    icon: 'none'\n                });\n                // 重置该项的滑动状态\n                this.$set(this.examSwipeState, index, 0);\n                return null;\n            }\n            uni.showModal({\n                title: '确认删除',\n                content: `确定要删除\"${item.title}\"吗？`,\n                success: (res) => {\n                    if (res.confirm) {\n                        this.examList.splice(index, 1);\n                        // 更新滑动状态，移除已删除项的状态\n                        const newState = new UTSJSONObject({});\n                        Object.keys(this.examSwipeState).forEach(key => {\n                            if (Number(key) < index) {\n                                newState[key] = this.examSwipeState[key];\n                            }\n                            else if (Number(key) > index) {\n                                newState[Number(key) - 1] = this.examSwipeState[key];\n                            }\n                        });\n                        this.examSwipeState = newState;\n                        uni.showToast({\n                            title: '已删除',\n                            icon: 'none'\n                        });\n                    }\n                    else {\n                        // 取消时重置滑动状态\n                        this.$set(this.examSwipeState, index, 0);\n                    }\n                }\n            });\n        },\n        // 切换标签页时重置所有滑动状态\n        switchTab(tab = null) {\n            this.currentTab = tab;\n            // 重置所有滑动状态\n            this.examSwipeState = new UTSJSONObject({});\n        },\n        // 添加倒计时\n        addCountdown() {\n            uni.showToast({\n                title: '添加倒计时功能待实现',\n                icon: 'none'\n            });\n        },\n        // 切换筛选器\n        toggleFilter() {\n            this.onlyExams = !this.onlyExams;\n            // 这里可以添加筛选逻辑\n        },\n        switchPage(page = null) {\n            if (page === this.currentPage)\n                return null;\n            if (page === 'index') {\n                // 如果已经在首页，只需更新状态\n                if (UTS.arrayPop(getCurrentPages()).route === 'pages/index/index') {\n                    this.currentPage = 'index';\n                }\n                else {\n                    uni.redirectTo({\n                        url: '/pages/index/index',\n                        fail: (err) => {\n                            uni.__f__('error', 'at pages/index/index.uvue:359', '页面跳转失败', err);\n                            uni.showToast({\n                                title: '页面跳转失败',\n                                icon: 'none'\n                            });\n                        }\n                    });\n                }\n            }\n            else if (page === 'info') {\n                // 跳转到个人信息页\n                uni.navigateTo({\n                    url: '/pages/index/info',\n                    success: () => {\n                        this.currentPage = 'info';\n                    },\n                    fail: (err) => {\n                        uni.__f__('error', 'at pages/index/index.uvue:375', '页面跳转失败', err);\n                        uni.showToast({\n                            title: '页面跳转失败',\n                            icon: 'none'\n                        });\n                    }\n                });\n            }\n        },\n        // 跳转到对应的页面\n        navigateTo(url = null) {\n            uni.navigateTo({\n                url: url,\n                fail: (err) => {\n                    uni.__f__('error', 'at pages/index/index.uvue:390', '页面跳转失败', err);\n                    uni.showToast({\n                        title: '页面跳转失败',\n                        icon: 'none'\n                    });\n                }\n            });\n        },\n        // 获取当前日期\n        getCurrentDate() {\n            const date = new Date();\n            const year = date.getFullYear();\n            const month = ('0' + (date.getMonth() + 1)).slice(-2);\n            const day = ('0' + date.getDate()).slice(-2);\n            this.currentDate = `${year}/${month}/${day}`;\n        }\n    }\n});\n//# sourceMappingURL=C:/Users/liern/IdeaProjects/Gonggong/pages/index/index.uvue?vue&type=script&lang.uts.js.map","references":["C:/Users/liern/IdeaProjects/Gonggong/pages/index/info.uvue.ts"],"uniExtApis":["uni.showToast","uni.showModal","uni.redirectTo","uni.__f__","uni.navigateTo"],"map":"{\"version\":3,\"file\":\"index.uvue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"index.uvue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
