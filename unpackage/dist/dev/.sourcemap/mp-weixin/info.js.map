{"version":3,"file":"info.js","sources":["pages/index/info.uvue"],"sourcesContent":["<template>\r\n  <view class=\"container\">\r\n    <!-- 顶部粉色区域 -->\r\n    <view class=\"top-section\">\r\n      <!-- 未登录状态 - 左侧头像 -->\r\n      <view v-if=\"!isLoggedIn\" class=\"login-header\">\r\n        <image class=\"avatar\" src=\"/static/images/avatar.png\"></image>\r\n        <view class=\"login-text-container\">\r\n          <text class=\"login-text\">点击登录</text>\r\n          <text class=\"id-text\">ID:</text>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- 已登录状态 - 居中头像和信息 -->\r\n      <view v-else class=\"profile-header\">\r\n        <view class=\"avatar-container\">\r\n          <image class=\"avatar\" src=\"/static/images/avatar.png\"></image>\r\n        </view>\r\n        <text class=\"username\">{{userInfo.name}}</text>\r\n        <text class=\"user-id\">ID: {{userInfo.id}}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 小Tips区域 -->\r\n    <view class=\"tips-section\">\r\n      <text class=\"tips-title\">小Tips</text>\r\n\r\n      <!-- 菜单列表 -->\r\n      <view class=\"menu-card\">\r\n        <view class=\"menu-item\" @click=\"handleMenuClick('contact')\">\r\n          <text class=\"menu-text\">联系我们</text>\r\n          <text class=\"arrow\">›</text>\r\n        </view>\r\n\r\n        <view class=\"divider\"></view>\r\n\r\n        <view class=\"menu-item\" @click=\"handleMenuClick('agreement')\">\r\n          <text class=\"menu-text\">用户协议</text>\r\n          <text class=\"arrow\">›</text>\r\n        </view>\r\n\r\n        <view class=\"divider\"></view>\r\n\r\n        <view class=\"menu-item\" @click=\"handleMenuClick('privacy')\">\r\n          <text class=\"menu-text\">隐私条款</text>\r\n          <text class=\"arrow\">›</text>\r\n        </view>\r\n\r\n        <view class=\"divider\"></view>\r\n\r\n        <view class=\"version-item\">\r\n          <text class=\"menu-text\">当前版本</text>\r\n          <text class=\"version-text\">3.0.20250507-beta</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 登录/退出按钮 -->\r\n    <view class=\"login-button-container\">\r\n      <view class=\"login-button\" @click=\"handleLoginAction\">\r\n        <text>{{isLoggedIn ? '退出登录' : '登录'}}</text>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- 底部导航 -->\r\n    <view class=\"tab-bar\">\r\n      <view class=\"tab-bar-item\" @click=\"switchPage('index')\">\r\n        <image class=\"tab-bar-icon\" src=\"/static/images/home.png\"></image>\r\n        <text class=\"tab-bar-text\">首页</text>\r\n      </view>\r\n      <view class=\"tab-bar-item active\">\r\n        <image class=\"tab-bar-icon\" src=\"/static/images/user-active.png\"></image>\r\n        <text class=\"tab-bar-text\">我的</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script lang=\"uts\">\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoggedIn: false,\r\n      userInfo: {\r\n        name: '陈朴浩',\r\n        id: '202405721336'\r\n      }\r\n    }\r\n  },\r\n  onLoad() {\r\n    this.checkLoginStatus();\r\n  },\r\n  methods: {\r\n    checkLoginStatus() {\r\n      const token = uni.getStorageSync('token');\r\n      this.isLoggedIn = !!token;\r\n\r\n      if (this.isLoggedIn) {\r\n        this.getUserInfo();\r\n      }\r\n    },\r\n\r\n    getUserInfo() {\r\n      // API调用将在后续实现\r\n      // 目前使用data中的静态数据\r\n    },\r\n\r\n    handleLoginAction() {\r\n      if (this.isLoggedIn) {\r\n        uni.showModal({\r\n          title: '提示',\r\n          content: '确定要退出登录吗？',\r\n          success: (res) => {\r\n            if (res.confirm) {\r\n              uni.removeStorageSync('token');\r\n              this.isLoggedIn = false;\r\n              uni.showToast({\r\n                title: '已退出登录',\r\n                icon: 'none'\r\n              });\r\n            }\r\n          }\r\n        });\r\n      } else {\r\n        uni.navigateTo({\r\n          url: './login',\r\n          fail: (err) => {\r\n            uni.__f__('error','at pages/index/info.uvue:128','页面跳转失败', err);\r\n            uni.showToast({\r\n              title: '页面跳转失败',\r\n              icon: 'none'\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    handleMenuClick(type) {\r\n      switch(type) {\r\n        case 'contact':\r\n          uni.showToast({\r\n            title: '联系我们',\r\n            icon: 'none'\r\n          });\r\n          break;\r\n        case 'agreement':\r\n          uni.showToast({\r\n            title: '用户协议',\r\n            icon: 'none'\r\n          });\r\n          break;\r\n        case 'privacy':\r\n          uni.showToast({\r\n            title: '隐私条款',\r\n            icon: 'none'\r\n          });\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n\r\n    switchPage(page) {\r\n      if (page === 'index') {\r\n        uni.redirectTo({\r\n          url: './index',\r\n          fail: (err) => {\r\n            uni.__f__('error','at pages/index/info.uvue:168','页面跳转失败', err);\r\n            uni.showToast({\r\n              title: '页面跳转失败',\r\n              icon: 'none'\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.container {\r\n  flex-direction: column;\r\n  width: 750rpx;\r\n  background-color: #f5f5f5;\r\n  min-height: 100vh;\r\n}\r\n\r\n/* 顶部粉色区域 */\r\n.top-section {\r\n  width: 750rpx;\r\n  height: 400rpx;\r\n  background-color: #f66b6b;\r\n  border-radius: 0 0 30rpx 30rpx;\r\n  position: relative;\r\n}\r\n\r\n/* 未登录状态布局 */\r\n.login-header {\r\n  flex-direction: row;\r\n  align-items: center;\r\n  padding: 120rpx 40rpx;\r\n}\r\n\r\n.login-header .avatar {\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  border-radius: 60rpx;\r\n  border: 4rpx solid #fff;\r\n}\r\n\r\n.login-text-container {\r\n  margin-left: 30rpx;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n/* 已登录状态布局 */\r\n.profile-header {\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding-top: 80rpx;\r\n}\r\n\r\n.avatar-container {\r\n  width: 170rpx;\r\n  height: 170rpx;\r\n  border-radius: 85rpx;\r\n  background-color: #ffffff;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border: 4rpx solid #ffffff;\r\n  overflow: hidden;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.profile-header .avatar {\r\n  width: 160rpx;\r\n  height: 160rpx;\r\n  border-radius: 80rpx;\r\n}\r\n\r\n/* 用户信息样式 */\r\n.username {\r\n  font-size: 42rpx;\r\n  color: #ffffff;\r\n  font-weight: bold;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.user-id {\r\n  font-size: 32rpx;\r\n  color: #ffffff;\r\n  opacity: 0.9;\r\n}\r\n\r\n/* 登录文本样式 */\r\n.login-text {\r\n  font-size: 42rpx;\r\n  color: #ffffff;\r\n  font-weight: bold;\r\n}\r\n\r\n.id-text {\r\n  font-size: 32rpx;\r\n  color: #ffffff;\r\n  opacity: 0.9;\r\n  margin-top: 8rpx;\r\n}\r\n\r\n/* 小Tips区域 */\r\n.tips-section {\r\n  width: 710rpx;\r\n  margin: 30rpx 20rpx;\r\n}\r\n\r\n.tips-title {\r\n  font-size: 36rpx;\r\n  font-weight: bold;\r\n  color: #333333;\r\n  margin-bottom: 20rpx;\r\n  margin-left: 10rpx;\r\n}\r\n\r\n/* 菜单卡片 */\r\n.menu-card {\r\n  background-color: #ffffff;\r\n  border-radius: 20rpx;\r\n  padding: 0 30rpx;\r\n}\r\n\r\n/* 菜单项 */\r\n.menu-item {\r\n  height: 100rpx;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n/* 版本项 */\r\n.version-item {\r\n  height: 100rpx;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.menu-text {\r\n  font-size: 32rpx;\r\n  color: #333333;\r\n}\r\n\r\n.arrow {\r\n  font-size: 40rpx;\r\n  color: #cccccc;\r\n  font-weight: 300;\r\n}\r\n\r\n.version-text {\r\n  font-size: 28rpx;\r\n  color: #999999;\r\n}\r\n\r\n/* 分割线 */\r\n.divider {\r\n  height: 1rpx;\r\n  background-color: #f0f0f0;\r\n  width: 100%;\r\n}\r\n\r\n/* 登录/退出按钮 */\r\n.login-button-container {\r\n  width: 670rpx;\r\n  margin: 60rpx 40rpx 120rpx;\r\n}\r\n\r\n.login-button {\r\n  width: 100%;\r\n  height: 90rpx;\r\n  background-color: #f66b6b;\r\n  border-radius: 45rpx;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #ffffff;\r\n  font-size: 34rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 底部导航 */\r\n.tab-bar {\r\n  width: 750rpx;\r\n  height: 100rpx;\r\n  background-color: #ffffff;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  border-top: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.tab-bar-item {\r\n  flex: 1;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n}\r\n\r\n.tab-bar-icon {\r\n  width: 50rpx;\r\n  height: 50rpx;\r\n  margin-bottom: 5rpx;\r\n}\r\n\r\n.tab-bar-text {\r\n  font-size: 24rpx;\r\n  color: #999999;\r\n}\r\n\r\n.tab-bar-item.active .tab-bar-text {\r\n  color: #f66b6b;\r\n  font-weight: bold;\r\n}\r\n\r\n.tab-bar-item.active::after {\r\n  content: \"\";\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 70rpx;\r\n  height: 4rpx;\r\n  background-color: #f66b6b;\r\n  border-radius: 2rpx;\r\n}\r\n</style>"],"names":["defineComponent","uni"],"mappings":";;;AA+EA,MAAA,YAAeA,8BAAA;AAAA,EACb,OAAI;AACF,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,UAAU,IAAA,cAAA;AAAA,QACR,MAAM;AAAA,QACN,IAAI;AAAA,OACN;AAAA;EAEH;AAAA,EACD,SAAM;AACJ,SAAK,iBAAgB;AAAA,EACtB;AAAA,EACD,SAAS;AAAA,IACP,mBAAgB;AACd,YAAM,QAAQC,cAAAA,MAAI,eAAe,OAAO;AACxC,WAAK,aAAa,CAAC,CAAC;AAEpB,UAAI,KAAK,YAAY;AACnB,aAAK,YAAW;AAAA,MAClB;AAAA,IACD;AAAA,IAED,cAAW;AAAA,IAGV;AAAA,IAED,oBAAiB;AACf,UAAI,KAAK,YAAY;AACnBA,4BAAI,UAAU,IAAA,cAAA;AAAA,UACZ,OAAO;AAAA,UACP,SAAS;AAAA,UACT,SAAS,CAAC,QAAG;AACX,gBAAI,IAAI,SAAS;AACfA,kCAAI,kBAAkB,OAAO;AAC7B,mBAAK,aAAa;AAClBA,4BAAAA,MAAI,UAAU;AAAA,gBACZ,OAAO;AAAA,gBACP,MAAM;AAAA,cACP,CAAA;AAAA,YACH;AAAA,UACF;AAAA,QACD,CAAA,CAAA;AAAA,MACD,OAAK;AACLA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM,CAAC,QAAG;AACRA,0BAAG,MAAC,MAAM,SAAQ,gCAA+B,UAAU,GAAG;AAC9DA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACD,CAAA;AAAA,MACH;AAAA,IACD;AAAA,IAED,gBAAgB,OAAI,MAAA;AAClB,cAAO,MAAI;AAAA,QACT,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAA;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAA;AACD;AAAA,QACF,KAAK;AACHA,wBAAAA,MAAI,UAAU;AAAA,YACZ,OAAO;AAAA,YACP,MAAM;AAAA,UACP,CAAA;AACD;AAAA,MAGJ;AAAA,IACD;AAAA,IAED,WAAW,OAAI,MAAA;AACb,UAAI,SAAS,SAAS;AACpBA,sBAAAA,MAAI,WAAW;AAAA,UACb,KAAK;AAAA,UACL,MAAM,CAAC,QAAG;AACRA,0BAAG,MAAC,MAAM,SAAQ,gCAA+B,UAAU,GAAG;AAC9DA,0BAAAA,MAAI,UAAU;AAAA,cACZ,OAAO;AAAA,cACP,MAAM;AAAA,YACP,CAAA;AAAA,UACH;AAAA,QACD,CAAA;AAAA,MACH;AAAA,IACF;AAAA,EACF;CACF;;;;;;;;;;;;;;;;;;;;;;;;"}